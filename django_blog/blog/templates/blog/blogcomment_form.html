<!-- 新增以下全部 -->
{% extends "base_generic.html" %}

{% block content %}
<h1>Add a Comment to "{{ blog.name }}"</h1>

<!-- 评论表单 -->
<form method="post">
  {% csrf_token %}  <!-- Django 必选的 CSRF 令牌 -->
  
  <!-- 显示表单字段（自动渲染所有必要字段） -->
  <div class="form-group mb-4">
    <label for="{{ form.description.id_for_label }}" class="form-label">Your Comment:</label>
    {{ form.description }}  <!-- 评论内容输入框 -->
    <!-- 显示字段错误信息 -->
    {% if form.description.errors %}
      <div class="text-danger mt-1">
        {% for error in form.description.errors %}
          {{ error }}
        {% endfor %}
      </div>
    {% endif %}
  </div>

  <!-- 提交按钮和取消按钮 -->
  <div class="d-flex gap-3">
    <button type="submit" class="btn btn-primary">Submit Comment</button>
    <a href="{% url 'blog-detail' blog.id %}" class="btn btn-secondary">Cancel</a>
  </div>
</form>

<!-- 简单的样式优化 -->
<style>
  .form-control {
    width: 100%;
    padding: 0.75rem;
    border: 1px solid #ced4da;
    border-radius: 0.375rem;
    font-size: 1rem;
    resize: vertical;
    min-height: 120px;
  }
  .form-control:focus {
    outline: none;
    border-color: #80bdff;
    box-shadow: 0 0 0 0.2rem rgba(0, 123, 255, 0.25);
  }
</style>
{% endblock %}